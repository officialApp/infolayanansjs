{"version":3,"sources":["webpack:///./src/pages/sms_blast.vue?706d","webpack:///src/pages/sms_blast.vue","webpack:///./src/pages/sms_blast.vue?a274","webpack:///./src/pages/sms_blast.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","directives","name","rawName","value","expression","domProps","on","$event","target","composing","message","onchange","_l","item","index","key","_s","nohp","nama","staticStyle","hapus","kirim","hasil","_e","hasil2","staticRenderFns","data","vdata","file","imgs","ready","mulai","listhp","gambar","message2","computed","txt","encodeURI","methods","confirm","splice","reader","FileReader","onload","event","result","workbook","XLSX","read","SheetNames","forEach","XL_row_object","utils","sheet_to_row_object_array","json_object","JSON","stringify","that","parse","$forceUpdate","console","log","onerror","error","code","readAsBinaryString","e","files","test","alert","getFile","compress","size","length","inputfile","fd","append","$store","state","users","id","beforeMount","db","collection","component"],"mappings":"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","file":"js/page-sms_blast.c5894e8b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 1440 320\"}},[_c('path',{attrs:{\"fill\":\"#0099ff\",\"fill-opacity\":\"1\",\"d\":\"M0,192L16,202.7C32,213,64,235,96,213.3C128,192,160,128,192,101.3C224,75,256,85,288,85.3C320,85,352,75,384,85.3C416,96,448,128,480,165.3C512,203,544,245,576,250.7C608,256,640,224,672,181.3C704,139,736,85,768,69.3C800,53,832,75,864,106.7C896,139,928,181,960,176C992,171,1024,117,1056,122.7C1088,128,1120,192,1152,208C1184,224,1216,192,1248,176C1280,160,1312,160,1344,186.7C1376,213,1408,267,1424,293.3L1440,320L1440,0L1424,0C1408,0,1376,0,1344,0C1312,0,1280,0,1248,0C1216,0,1184,0,1152,0C1120,0,1088,0,1056,0C1024,0,992,0,960,0C928,0,896,0,864,0C832,0,800,0,768,0C736,0,704,0,672,0C640,0,608,0,576,0C544,0,512,0,480,0C448,0,416,0,384,0C352,0,320,0,288,0C256,0,224,0,192,0C160,0,128,0,96,0C64,0,32,0,16,0L0,0Z\"}})]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"offset-2 col-8 p-4 animated fadeInDown\"},[_c('p',{staticClass:\"text-center font-bold text-red-lighter\"},[_vm._v(\"KIRIM Whatsapp\")]),_c('div',{staticClass:\"sm-form\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],staticClass:\"form-control md-textarea\",attrs:{\"type\":\"text\",\"id\":\"message\",\"name\":\"message\",\"rows\":\"2\",\"placeholder\":\"message...\"},domProps:{\"value\":(_vm.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.message=$event.target.value}}}),_c('br'),_c('input',{attrs:{\"type\":\"file\",\"multiple\":\"false\",\"id\":\"sheets\"},on:{\"change\":_vm.onchange}}),_c('br'),_vm._l((_vm.listhp),function(item,index){return _c('div',{key:index,staticClass:\"shadow-lg rounded-lg mt-1 p-2 row\"},[_c('div',{staticClass:\"col-10\"},[_c('p',{staticClass:\"pl-3 font-times font-bold text-sm\"},[_vm._v(\"No HP : \"+_vm._s(item.nohp))]),_c('p',{staticClass:\"pl-3 font-times font-bold text-sm\"},[_vm._v(\"Nama : \"+_vm._s(item.nama))])]),_c('div',{staticClass:\"col-2\"},[_c('div',{staticClass:\"tips\"},[_c('button',{staticClass:\"btn btn-sm btn-style9\",staticStyle:{\"background\":\"red\"},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.hapus(index)}}},[_vm._v(\"X\")]),_c('span',{staticClass:\"tipstextL\"},[_vm._v(\"Hapus\")])])])])}),_c('div',{staticClass:\"text-center\"},[_c('button',{staticClass:\"btn btn-sm btn-success\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.kirim}},[_c('span',{staticClass:\"typcn typcn-message-typing\"}),_vm._v(\" Kirim \")])])],2)]),_c('div',{staticClass:\"offset-2 col-8 p-4\"},[(_vm.mulai)?_c('div',{attrs:{\"id\":\"txtnya\"},domProps:{\"textContent\":_vm._s(_vm.hasil)}}):_vm._e(),(_vm.mulai)?_c('div',{attrs:{\"id\":\"txtnya2\"},domProps:{\"textContent\":_vm._s(_vm.hasil2)}}):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 320\">\r\n      <path\r\n        fill=\"#0099ff\"\r\n        fill-opacity=\"1\"\r\n        d=\"M0,192L16,202.7C32,213,64,235,96,213.3C128,192,160,128,192,101.3C224,75,256,85,288,85.3C320,85,352,75,384,85.3C416,96,448,128,480,165.3C512,203,544,245,576,250.7C608,256,640,224,672,181.3C704,139,736,85,768,69.3C800,53,832,75,864,106.7C896,139,928,181,960,176C992,171,1024,117,1056,122.7C1088,128,1120,192,1152,208C1184,224,1216,192,1248,176C1280,160,1312,160,1344,186.7C1376,213,1408,267,1424,293.3L1440,320L1440,0L1424,0C1408,0,1376,0,1344,0C1312,0,1280,0,1248,0C1216,0,1184,0,1152,0C1120,0,1088,0,1056,0C1024,0,992,0,960,0C928,0,896,0,864,0C832,0,800,0,768,0C736,0,704,0,672,0C640,0,608,0,576,0C544,0,512,0,480,0C448,0,416,0,384,0C352,0,320,0,288,0C256,0,224,0,192,0C160,0,128,0,96,0C64,0,32,0,16,0L0,0Z\"\r\n      />\r\n    </svg>\r\n    <div class=\"row\">\r\n      <div class=\"offset-2 col-8 p-4 animated fadeInDown\">\r\n        <p class=\"text-center font-bold text-red-lighter\">KIRIM Whatsapp</p>\r\n        <div class=\"sm-form\">\r\n          <textarea\r\n            type=\"text\"\r\n            id=\"message\"\r\n            name=\"message\"\r\n            rows=\"2\"\r\n            placeholder=\"message...\"\r\n            class=\"form-control md-textarea\"\r\n            v-model=\"message\"\r\n          ></textarea>\r\n          <br />\r\n          <input\r\n            type=\"file\"\r\n            multiple=\"false\"\r\n            id=\"sheets\"\r\n            @change=\"onchange\"\r\n          />\r\n          <br />\r\n          <div\r\n              class=\"shadow-lg rounded-lg mt-1 p-2 row\"\r\n              v-for=\"(item, index) in listhp\"\r\n              :key=\"index\"\r\n            >\r\n              <div class=\"col-10\">\r\n                <p class=\"pl-3 font-times font-bold text-sm\">No HP : {{item.nohp}}</p>\r\n                <p class=\"pl-3 font-times font-bold text-sm\">Nama : {{item.nama}}</p>\r\n              </div>\r\n              <div class=\"col-2\">\r\n                <div class=\"tips\">\r\n                  <button\r\n                    type=\"button\"\r\n                    @click=\"hapus(index)\"\r\n                    style=\"background:red;\"\r\n                    class=\"btn btn-sm btn-style9\"\r\n                  >X</button>\r\n                  <span class=\"tipstextL\">Hapus</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          <div class=\"text-center\">\r\n            <button type=\"button\" @click=\"kirim\" class=\"btn btn-sm btn-success\">\r\n              <span class=\"typcn typcn-message-typing\"></span> Kirim\r\n            </button>\r\n          </div>\r\n          <!-- <input type=\"file\" name=\"file\" @change=\"compress($event)\" />\r\n          <br>\r\n          <button type=\"button\" @click=\"gambar=''\" class=\"btn btn-sm btn-danger  \" v-if=\"gambar.length>0\">Hapus Gambar</button>\r\n          <br />\r\n          <img :src=\"gambar\" v-if=\"gambar.length>0\" class=\"kinoLightBox img-fluid \" style=\"height:400px;width:300px;;\" alt=\"top\">-->\r\n        </div>\r\n      </div>\r\n      <div class=\"offset-2 col-8 p-4\">\r\n        <div v-text=\"hasil\" id=\"txtnya\" v-if=\"mulai\"></div>\r\n        <div v-text=\"hasil2\" id=\"txtnya2\" v-if=\"mulai\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport firebase from \"firebase\";\r\n\r\nlet db = firebase.firestore();\r\n// let rdb = firebase.database()\r\n// import autophp from '@/plugins/autophp';\r\n// let sdb = new autophp();\r\nexport default {\r\n  data() {\r\n    return {\r\n      vdata: {},\r\n      file: \"\",\r\n      imgs: [],\r\n      ready: false,\r\n      mulai: false,\r\n      listhp:[],\r\n      gambar: \"\",\r\n      message: \"\",\r\n      message2: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    hasil() {\r\n      let txt = this.message;\r\n      txt = encodeURI(txt);\r\n      return txt;\r\n    },\r\n    hasil2() {\r\n      let txt = this.message2;\r\n      return txt;\r\n    },\r\n  },\r\n  methods: {\r\n    hapus(index) {\r\n      if (confirm(\"Apakah yakin menghapus?\")) {\r\n        this.listhp.splice(index, 1);\r\n      }\r\n    },\r\n    onchange(e) {\r\n      let that = this;\r\n      var reader = new FileReader();\r\n      reader.onload = function(event) {\r\n        var data = event.target.result;\r\n        var workbook = XLSX.read(data, { type: \"binary\" });\r\n        workbook.SheetNames.forEach(function(sheetName) {\r\n          var XL_row_object = XLSX.utils.sheet_to_row_object_array(\r\n            workbook.Sheets[sheetName]\r\n          );\r\n          var json_object = JSON.stringify(XL_row_object);\r\n          that.listhp = JSON.parse(json_object);\r\n          that.$forceUpdate();\r\n          console.log(json_object);\r\n        });\r\n      };\r\n      reader.onerror = function(event) {\r\n        console.error(\"file gagal proses\" + event.target.error.code);\r\n      };\r\n      reader.readAsBinaryString(e.target.files[0]);\r\n    },\r\n    test() {\r\n      alert(\"y\");\r\n    },\r\n    kirim() {\r\n      this.message2 = JSON.stringify(this.listhp)\r\n      this.mulai = !this.mulai;\r\n      // window.location = 'https://api.whatsapp.com/send?phone=6282251970006&text='+encodeURIComponent(this.gambar)\r\n      //   window.location = `https://api.whatsapp.com/send?phone=6282251970006&text=${this.txt}`\r\n      // \"https://akbarmaliki.github.io/infolayanansjs/#/sms_blast_on\";\r\n    },\r\n    getFile(e) {\r\n      this.file = e.target.files[0];\r\n    },\r\n    compress(event) {\r\n      // this.imgList=e.target.files;\r\n      if (event.target.files[0].size > 10000000) {\r\n        alert(\"File yang di upload tidak sesuai kriteria\");\r\n      } else {\r\n        if (event.target.files.length > 0) {\r\n          let img = [];\r\n          let hasil = [];\r\n          let compress = \"null\";\r\n          let filenya;\r\n          for (let i = 0; i < event.target.files.length; i++) {\r\n            this.imgs.push(event.target.files[i]);\r\n            var selectedFile = event.target.files[i];\r\n            var reader = new FileReader();\r\n            reader.onload = function(event) {\r\n              //   img.push(event.target.result)\r\n            };\r\n            reader.readAsDataURL(selectedFile);\r\n            filenya = event.target.files[i];\r\n            compress =\r\n              filenya.size < 1000000\r\n                ? 30\r\n                : filenya.size < 2000000\r\n                ? 25\r\n                : filenya.size < 3000000\r\n                ? 20\r\n                : filenya.size < 4000000\r\n                ? 15\r\n                : 10;\r\n            this.$daycaca.compress(filenya, compress, data => {\r\n              this.gambar = data;\r\n              img.push(data);\r\n              this.$urltofile(data, filenya.name, filenya.type).then(res => {\r\n                hasil.push(res);\r\n              });\r\n            });\r\n          }\r\n          console.log(\"base64\", img);\r\n          this.gambar = img;\r\n          setTimeout(() => {\r\n            console.log(\"file\", hasil[0]);\r\n            this.file = hasil[0];\r\n            this.ready = true;\r\n          }, 1000);\r\n          //   this.$emit('upload', hasil)\r\n        }\r\n      }\r\n    },\r\n    inputfile() {\r\n      let fd = new FormData();\r\n      fd.append(\"file\", this.file);\r\n      fd.append(\"id\", this.$store.state.users.id);\r\n      axios\r\n        .post(\"https://infolayanans.space/api/mysql/upload.php\", fd, {\r\n          headers: {\r\n            \"content-type\": \"multipart/form-data\"\r\n          }\r\n        })\r\n        .then(res => {\r\n          console.log(res); // get /api/gambar/url.jpg\r\n        });\r\n    }\r\n  },\r\n  beforeMount() {\r\n    let that = this;\r\n    db.collection(\"sms_blast\")\r\n      .get()\r\n      .then(res => {\r\n        let data = res.docs.map(e => e.data());\r\n        let hasil = false;\r\n        data = data.filter(e => {\r\n          if (e.id == localStorage.getItem(\"machineid\")) {\r\n            localStorage.setItem(\"machineid\", e.id);\r\n            return e;\r\n          } else {\r\n            hasil = \"false\";\r\n          }\r\n        });\r\n        this.sama = hasil;\r\n        console.log(data);\r\n        if (data.length > 0) {\r\n        } else {\r\n          // this.$router.push(\"/\");\r\n        }\r\n      });\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sms_blast.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sms_blast.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./sms_blast.vue?vue&type=template&id=1907d7d2&\"\nimport script from \"./sms_blast.vue?vue&type=script&lang=js&\"\nexport * from \"./sms_blast.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}